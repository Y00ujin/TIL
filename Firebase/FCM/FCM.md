# **FCM**

#### ```FCM```에 대해 알아보자 with Youjin 👩🏻‍💻

### FCM이 뭘까?
- #### FCM은 ```Firebase Cloud Messaging```의 약자로, 무료로 메시지를 안정적으로 전송할 수 있는 교차 플랫폼 메시징 솔루션이다.
- #### FCM은 타겟 모바일에 푸시를 보낼 수 있도록 해주는 서비스로, Firebase 콘솔 이나 서버에서 푸시를 보낼 수 있다.

***

### FCM의 주요 기능?
- #### 1. 알림 메시지 또는 데이터 메시지 전송
> ##### 사용자에게 표시되는 알림 메시지를 전송합니다.
- #### 2. 다양한 메시지 타겟팅
> ##### 단일 기기, 기기 그룹, 주제를 구독한 기기 등 3가지 방식으로 클라이언트 앱에 메시지를 배포할 수 있습니다.
- #### 3. 클라이언트 앱에서 메시지 전송	
> ##### FCM의 신뢰성 높고 배터리 효율적인 연결 채널을 통해 기기에서 다시 서버로 확인, 채팅, 기타 메시지를 보낼 수 있습니다.

***

### FCM의 동작원리?
> #### 앱을 위한 키를 FCM 서버를 통해 얻는 단계
- ##### 모바일에 앱이 설치되는 순간 Firebase 서버에 키 획득을 위한 요청을 보냄
- ##### Firebase 서버에서 키를 만들어 모바일에 전달
- ##### 모바일 앱에 전달된 키를 서버에 전송
- ##### 서버는 전달받은 키를 db에 저장하여 타겟 모바일의 identification으로 사용

> #### 서버에서 데이터를 스마트폰에 전달하는 절차
- ##### 서버에서 데이터를 타겟 모바일에 전달하기 위해 DB에서 키를 획득
- ##### DB의 키와 전송하고자 하는 데이터를 HTTP 통신으로 Firebase 서버에 전달
- ##### Firebase 서버에서는 전달받은 키값을 식별해 어떤 모바일의 어떤 앱인지를 식별
- ##### 식별된 모바일의 식별된 앱을 실행하여 데이터 전달 (타겟 모바일의 앱은 백그라운드에 있는 상태에서도 리스너로 이벤트를 감지함)

<br>

#### 참고
- ###### https://firebase.google.com/docs/cloud-messaging?hl=ko
- ###### https://donghun.dev/Firebase-Cloud-Messaging
- ###### https://maruzzing.github.io/study/etc/FCM(Firebase-Cloud-Messaging)%EC%9D%B4%EB%9E%80/

